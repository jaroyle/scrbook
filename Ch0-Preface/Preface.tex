\begin{comment}
\begin{verbatim}
"A preface or foreword deals with the genesis, purpose, limitations,
and scope of the book and may include acknowledgments of indebtedness;

an introduction deals with the subject of the book, supplementing and
introducing the text and indicating a point of view to be adopted by
the reader. The introduction usually forms a part of the text [and the
text numbering system]; the preface does not." (In other words, the
arabic numbering of the book (1,2,3) starts with the introduction, if
there is one. The other front matter takes i, ii, iii, etc.)
\end{verbatim}
\end{comment}

\begin{comment}
RS:
According to what we discussed a few days ago, the 4 big blocks of the Preface should be
1. Why are we writing this book?
2. What are the themes?
3. Software/computing/modeling - something about the practical aspects
4. Organization of the book
I tried commenting on the below material referring to this overall orgainzation we agreed on.
\end{comment}

%RS:This is the 'Why' part of the preface. 
%I think Richard made this comment further down, but we should stress more the importance of 'space', both in ecology and in sampling


There is a long and well documented history of capture-recapture (CR)
models in the ecological literature dating back decades (even
centuries).  However, there is has been a recent explosion of spatial
capture-recapture (SCR) models over the last 4-5 years and interest in
these models for ecological and conservation based questions has
increased dramatcially.  Our purpose in writing this book is to bring
together all of the developments over the last few years and give
people practical options for analyzing their own data using the large
and growing class of SCR models.

CR and SCR have been thought of mostly as ways to ``estimate density''
with not so much of a direct link to understanding ecological
processes. So one of the things that motivated us was to elaborate on,
and develop, some ideas related to modeling ecological processes
(movement, space usage, landscape connectivity) in the context of SCR
models.  SCR models (a.k.a.  spatially explicit capture-recapture
models) are a relatively new invention that stand to revolutionize how
researchers study animal populations.  This is where SCR models
present an important improvement over traditional, non-spatial CR
models.  SCR model explicitly describe exposure of individuals to
encounter that results from the juxtaposition of sampling devices or
traps with individuals, as well as the ecologically intuitive link
between abundance and area, both of which are unaccounted for by
traditional CR models. By including spatial processes, these models
can be adapted and expanded to directly address many questions related
to animal ecology and conservation. With such advanced tools at hand,
we believe that, but for some specific situations, tradition closed
population models are largely obselote.

So, while we do still have a lot of material on density estimation --
this is problem \# 1 in applied ecology -- we worked hard to cover a
lot more of the spatial aspect of population analysis as they relate
to SCR.  There are a lot of books out there that cover spatial
analysis of popualtion structure which are more theoretical or
mathematical, and there are a lot of books out there that cover
sampling and estimation, but that are {\it not} spatial. Our book
bridges these two huge ideas as much as is possible roughly mid-2012.

The 2nd thing that really motivated this book was our interest in
doing SCR, teaching people to do SCR, and therefore to provide a
framework for {\it implementation} using
\textbf{R}/\textbf{WinBUGS}/\textbf{JAGS} and using both Bayesian and
classical modes of inference.  To that extent, we provide a survey of
the models that are available now, and even some new ones, and
demonstrate how they can be applied in practice. Some of the material
is really new, only just now appearing in the peer-reviewed
literature, and some of it we developed along the way in response to
gaps in the literature.

\begin{comment}
%XXX I'm not sure what to do with this section, I kind of don't like it.
I'm not sure how it fits into our preface.    The second paragraph is
okay....

What is the approach or philosophy -- the overriding set of ideas that
motivates how we developed and organized conent?

In our experience, students in ecology
and even many established scientists sometimes have a difficult time
distinguishing what they need to do from how to do it.  They
cannot articulate clearly (either conceptually or actually) the
difference between the model for their data, and the actual procedure
of how to estimate parameters of that model, or make predictions -
i.e., how to do the calculations. Sometimes this issue raises itself in
an email from some hapless grad student wondering ``what is the right
statistical test for this type of data?''  In a sense it is this view
that drives our approach to developing elements of this book.

In contemporary statistical ecology, models and methods are sometimes
obscured by named procedures often that are completely uninformative,
the technical details of which hide in obscurity in some black boxes
such as MARK, PRESENCE, DISTANCE, etc., known only by the few
specialist experts in the field.  {\bf XXXX I think we should say
  something to the extent that these black boxes are very useful but
  their user-friendlyness comes with the risk of abuse - the risk that
  you can run an analysis and get a result without really knowing what
  you're doing XXXXXX}  While it is sometimes convenient to refer to a
type or class of models by a name (logistic regression or even ``model
Mh'') in order to emphasize a broad concept or methodological area,
this is only useful if the fundamental statistical and mathematical
structure underlying that name is clear. As such, we try to focus on
model development and keep the model development distinct from how to
combine our data with the model to produce estimates and so forth. We
talk a lot about hypothetical data we wish we could observe - complete
data sets - data sets as if $N$ were known, etc.. We talk about the
model in precise terms and then break down various ways for analyzing
the model either using likelihood methods or Bayesian methods or some
black-box that does one or the other.

\end{comment}


\section*{Themes of this Book}

In this book, we try to achieve a broad methodological scope from
basic closed population models for inference about population density,
movement, space usage and resource selection, on up to open population
models for inference about vital rates such as survival and
recruitment.  Much of the material is a synthesis of recent research
but we also expand SCR models in a number of useful directions,
including to accommodate unmarked individuals
(Chapt. \ref{chapt.scr-unmarked}), use of telemetry information
(Chapt. \ref{chapt.rsf}), and developing explicit models of landscape
connectivity based on ecological or least-cost distance
(Chapt. \ref{chapt.ecoldist}), and many other new topics that have
only recently appeared in the literature, or not at all.  Our intent
is to provide a comprehensive resource for ecologists interested in
understanding and applying SCR models to solve common problems faced
in the study of populations.  To do so, we make use of hierarchical
models \citep{royle_dorazio:2008}, which allow extraordinary
flexibility in accommodating many types of capture-recapture data. We
present many example analyses, of real and simulated data using
likelihood-based and Bayesian methods---examples that readers can
replicate using the code presented in the text and the resources made
available on-line and in our accompanying {\bf R} package {\tt
  scrbook}.

Although we aim to reach a broad audience, at times we go into details
that may only be of interest to advanced practitioners who need to
extend capture-recapture models to unique situations.  We hope that
these advanced topics will not discourage those new to these methods,
but instead out intent is to allow readers to advance their own
understanding and become less reliant on restrictive tools and
software.  A number of conceptual and methodological themes unify the
main topical coverage of this book, and those are:


\begin{itemize}
\item[(1)]  Spatial ecology: Much of ecology is about spatial variation in
processes (e.g., density) and the mechanisms (e.g., habitat selection, movement) that
determine this variation. Temporal variation is also commonly of interest and
we cover this as well, but in less depth.

\item[(2)] Spatial observation error: Observation error is omnipotent in
ecology, especially in the study of free-ranging vertebrates, and in
fact the entire 100+ year history of capture-recapture studies have
been devoted to estimating key demographic parameters in the
presence of observation error because we simply cannot observe all
the individuals in a population, plot, whatever... And we can't know
their fates even if we mark them all. What has been missing in most
of the capture-recapture methods is an acknowledgment of the
spatial context of sampling and the fact that capture (or detection)
probability will virtually always be a function of the distance
between traps and animals (or their home ranges).


\item[(3)] Hierarchical modeling: Hierarchical models (HM) are the perfect tool for modeling spatial
processes, especially those of the type covered in this book, where
one process (the ecological process) is conditionally
related to another (the capture process). We make use of HMs
throughout this book, and we do so using both Bayesian and classical
 (frequentist, likelihood-based) modes of inference. These tools allow us to mold our hypotheses into
 probability models which can be used for description, testing, and
 prediction. 


\item[(4)] Model implementation: We consider proper implementation of
  the models to be very important throughout the book.  We explore
  likelihood methods using existing software such as the {\bf R}
  package \mbox{\tt secr} \citep{efford:2011}, as well as development
  of custom solutions along the way and in Bayesian analyses of SCR
  models, we emphasize the use of the {\bf BUGS} language for
  describing models.  We also show readers how to devise their own
  MCMC algorithms for Bayesian analysis of SCR models, which can be
  convenient (even necessary) in some practical situations.

\end{itemize}

Altogether, these different conceptual and methodological elements
provide for a formulation of SCR models that essentially renders them
as variations of generalized linear mixed models (GLMMs). This in a
sense makes them consistent with many important methodologies used in
ecology (e.g., see \citet{zuur_etal:2009, kery_etal:2010}), and
because of the connection with standard modeling concepts, we believe
that the material presented in this book can be understood and used by
most ecologists with some modeling experience.


\section*{Computing}

We rely heavily on data processing and analysis in the {\bf R}
programming language, which by now is something that many
ecologists not only know about, but use frequently.  We
adopt {\bf R} because
it is free, has a large community that constantly develops
code for new applications, and it gives the user flexibility in data processing and analyses.
There are some great books out there including Bolker (XXXX) and XX
other XXXX XXXXX. We use a number of {\bf R} packages in our
analyses, which are described in Appendix 1, and moreover, we provide an
{\bf R} package containing the scripts and functions for all of our
analyses (see below).

We rely heavily on the various implementations of the {\bf BUGS}
language including {\bf WinBUGS} \citep{lunn_etal:2000} and {\bf JAGS}
\citep{plummer:2003}.  Because  {\bf WinBUGS} is in active development any more,
we are transitioning to mainly using {\bf
  JAGS}.  Sometimes models run better or mix
better in one or the other. As a side note, we don't have much experience with {\bf
  OpenBUGS} \citep{thomas_etal:2006}, but our code for {\bf WinBUGS} should run just
the same in {\bf OpenBUGS}. The {\bf BUGS}
language provides not only a computational device for fitting models but
it also emphasizes understanding of what the model is and
fosters understanding how to build models.   As our good friend and
colleague Marc K\'{e}ry says, ``BUGS frees the modeler in you.''
(XXXXX direct citation for this would be nice XXXXX).
While we mostly use {\bf BUGS} implementations, we do a limited
amount of developing our own custom MCMC algorithms (see
Chapt. \ref{chapt.mcmc}) which we find very helpful for certain
problems where {\bf BUGS}/{\bf JAGS} fail or prove to be inefficient.


You will find a fair amount of likelihood analysis throughout the book,
 and we have a chapter that
provides the conceptual and technical background for how to do this,
and several chapters use likelihood methods exclusively. We use the R
package \mbox{\tt secr} \citep{efford_etal:2009euring} for many
analyses and we think people should use this because it is polished,
easy to use, fairly general and has the usual {\bf R} summary methods,
and has considerable capability for doing analysis from start to
finish. In some chapters we discuss models that we have to use
likelihood methods for, but which are not implemented in \mbox{\tt
  secr} (e.g., Chapts. \ref{chapt.rsf} \ref{chapt.ecoldist}). This is
a good example of why it is useful to understand the principles and to
be able to implement these methods yourself.

\subsection*{The R package scrbook}

As we were developing content for the book it was obvious that it
would be useful if the tools and data were available for
readers to reproduce the analyses and also to modify so that they can
do their own analysis.  Almost every analysis we did is included as an
{\bf R} script in the \mbox{\tt scrbook} package.
The {\bf R} package will be very dynamic, as we plan to
continue to update and expand it.

The purpose of the package is not meant to be general-purpose and
flexible software for doing SCR models but, rather, a set of examples
and templates to see how specific things are done. Code can be used
by the reader to develop methods tailored to his/her situation, or
possibly even more general methods.  Because we use so many different
software packages and computing platforms, we think its impossible to
put all of what is covered in this book into a single integrated
package.  The \mbox{\tt scrbook} package is for educational purposes
and not for production or consulting work.


\section*{Organization of This Book}

We expect that readers have a basic understanding of statistical models
and classical inference (What is frequentist inference? What is a
likelihood? Generalized linear model? Generalized linear mixed
model?), Bayesian analysis (what is s a prior distribution and a
posterior distribution?), have used the {\bf R} programming
environment, and maybe even a little bit of Bayesian computation (MCMC
and perhaps the \textbf{BUGS} language).  The ideal candidate for reading this
book has basic knowledge of these topics. However, we do provide
introductory chapters on the necessary components which we hope can
serve as a brief and cursory tutorial for those who might have only
limited technical knowledge, e.g., many biologists who implement field
sampling programs but do not have extensive experience analyzing data.

To that extent, we introduce Bayesian inference in some detail because
we think readers are less
likely to have had a class in that and we also wanted to produce a
stand-alone product.  Because we do likelihood analysis of many models,
there is an introduction to the relevant elements of likelihood
analysis in Chapt. \ref{chapt.mle}, and the implementation of SCR
models in the package \mbox{\tt secr} \citep{efford_etal:2009euring}.
Our intent was to provide all of the material you
need in one place, but naturally this led to one of the deficiencies with the
book: it's a little bit long-winded.  


In the following chapters we develop a comprehensive synthesis and
extension of spatial capture-recapture models.  Roughly the first
third of the book is introductory material. In Chapt. \ref{chapt.glms}
we provide the basic analysis tools to understand and analyze SCR
models, namely generalized linear models (GLMs) with random effects,
and their analysis in {\bf R} and {\bf WinBUGS}.  Because SCR models
represent extensions of basic closed population models, we cover
ordinary closed population models in Chapt. \ref{chapt.closed}
wherein, along with Chapts. \ref{chapt.scr0} and
\ref{chapt.poisson-mn} \footnote{might ought to put Modeling Encounter
  Probability as chapter 5 instead}, provides the basic introduction
to capture-recapture models and their spatial extension.... this
covers XXXXX.  observation models related to the type of encounter
device (Chapt. \ref{chapt.poisson-mn}), models for encounter
probability (Chapt. \ref{chapt.covariates}). In the middle part of the
book we extend capture-recapture to SCR models and discuss a number of
different conceptual and technical topics including tools for
likelihood inference (Chapt. \ref{chapt.mle}), sampling design
(Chapt. XXXXX) and analysis of model fit and model selection
(Chapt. \ref{chapt.gof}).

The last part of the book, which is about 40\% or more by page
count, is advanced material.  We include a chapter on developing your
own MCMC algorithms for SCR models because many advanced
models require you to do this and we think much of the future of SCR
will require MCMC methods.  We also have a number of chapters on
spatial modeling aspects related to SCR including modeling space usage
or resource selection (Chapt \ref{chapt.rsf}), modeling landscape
connectivity (Chapt. \ref{chapt.ecoldist}), and modeling spatial
variation in density.  We cover open population models
(Chapt. \ref{chapt.open}), a number of topics related to unmarked individuals
either entirely (Chapt. \ref{chapt.scr-unmarked}) or partially marked
samples (Chapt. \ref{chapt.partialID}), a chapter on search-encounter
methods XXXX, a chapter on multi-session models XXXXXX (probably move
this to chapter 10?)

We didn't think to write a 550 page book on SCR models because there
wasn't even that much material to work when when the project was
started back in the early part of 2009. At that time, we envisioned
maybe 250 pages or so. But during the project great and new things
were produced, and we developed new models and concepts that led to
new material for the book, including models of resource selection,
landscape connectivity, and methods for dealing with unmarked
individuals. There are at least 10 chapters in the book that we
couldn't have thought about 4 years ago. Actually, more ideas kept
coming up and we ended up not even being able to cover all of them
extensively in this book; so we also, in places, provide ideas of how
SCR models could be developed further.


\begin{comment}
\section*{Where did we go wrong?}

The latex \mbox{\tt ~} is about useless as tits on a boar.

Ok, there will be some obvious, even embarrassing, problems that arise
once the book hits the street. Those are unintentional. Besides
those, there are some deficiencies with the book that we can identify
{\it before} the book hits the street. For one thing, it's a little
bit long-winded. We added some introductory/background material that
covers more than 100 pages. We don't really get to SCR models until
around page 130.  So you have some reading to do, or else skip over
it, or whatever. Our intent was to provide all of the material you
need in one place. When you start outlining or enumerating the
``requirements'' and you flesh each of those out a little bit, then
you have basically a short chapter on what you need to know in order
to get through SCR models. But then that short chapter is just
referencing a bunch of other material and so you start fleshing it out
a little bit more, and the next thing you know you have 3 chapters of
background content that amounts to 100 or more pages.  So, there you
have it.

As a second thing, we're tying together data analysis, R scripts, and
BUGS code from 4 different developers and we find, every day, certain
inconsistencies with notation and so on. We hope to have that all
nailed down in the final, edited, version of the book. But some of the
R package material will appear inconsistent with the book because the
package is dynamic, but the book is static. Or, in some cases, the
package development is lagging the printed book page. (this should
soon be fixed!).



%XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

%RS: I think this section should be moved to block 3: Software/computing/modeling
\section*{Statistical Modeling}

SCR models are a type of statistical model. Therefore, a reasonable
view of this book is that it is basically an applied statistical
modeling book.

We develop SCR models using a dual inference paradigm involving both
Bayesian and classical methods based on likelihood inference.  We are
not strong advocates of either Bayesian or likelihood-based inference
but rather we think either works in most problems and one or the other
works betters in some cases.  We show examples throughout the book for
which the specific problem solved using Bayesian methods would be
difficult using likelihood methods and vice versa.
% XXXX I really like the previous sentence, but I think we contradict
% it in several places later in the book

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

% XXXX Some of this gets said in next section
In essence, SCR are
simple hierarchical models.  %Hierarchical models are models that
The hierarchical models that we find most relevant in ecology % XXXX added
consist of a formal description of a state process -- a process that
characterizes what the true state of our study system looks like and
usually the process we are ultimately interested in -- and a separate
observation process, which describes how our data were generated
conditional on the state process. This acknowledges that, usually, we
cannot directly observe the state process, but rather have a partially
observed or biased picture of the state we're interested in.  SCR
models condition on a latent variable ${\bf s}$ which we interpret as
an explicit biological process -- the outcome of animals distributing
themselves over a landscape.  Some conceptual and methodological
aspects of hierarchical modeling can be found in
\citet{royle_dorazio:2008}. We rehash some of those ideas as we need
to but we don't focus too much on the broader framework of
hierarchical modeling.  We do, however, provide some background
material on inference strategies and, especially, Bayesian analysis
using the {\bf BUGS} variants {\bf JAGS} and {\bf WinBUGS}.




\end{comment}





