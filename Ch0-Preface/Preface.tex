\begin{verbatim}
"A preface or foreword deals with the genesis, purpose, limitations,
and scope of the book and may include acknowledgments of indebtedness;

an introduction deals with the subject of the book, supplementing and
introducing the text and indicating a point of view to be adopted by
the reader. The introduction usually forms a part of the text [and the
text numbering system]; the preface does not." (In other words, the
arabic numbering of the book (1,2,3) starts with the introduction, if
there is one. The other front matter takes i, ii, iii, etc.)
\end{verbatim}


Spatial capture-recapture (SCR) models (aka spatially-explicit
capture-recapture) are a relatively new invention but they stand to
revolutionize how people study animal populations.
% Maybe add something why we'd say that; assuming that we decided that we don't want to piss all the traditional CR folks off.
% Maybe: '
SCR models present an important advance over traditional,
i.e. non-spatial, CR models because they explicitly describe exposure
of individuals to encounter that results from the juxtaposition of
sampling devices or traps with the arrangement of individuals in
space, as well as the ecologically intuitive link between abundance
and area, both of which are ignored by traditional CR
models. Including spatial processes, these models can be adapted and
expanded to directly address many questions related to animal ecology
and conservation. With such advanced tools at hand, we believe that
but for some specific situations, ordinary closed population models
are largely obsolete, except as a conceptual device.
% models are essentially obsolete in our view, except as a conceptual
% device. '
The recent literature on SCR models has exploded -- and people are
keenly interested -- so the purpose of this book is to bring together
all of the recent developments over the last few years and give people
practial options for analyzing their own data using the large and
growing class of SCR models.

In this book we provide a survey of the models that are out there now,
even some new ones, and how people use them in practice. Some of this
is really new stuff that we wrote in response to gaps in the
literature. Things we had said from time to time that SCR models
should be useful for, but had not been established yet.

CR and SCR have been thought of mostly as ways to ``estimate density''
with not so much of a direct link to understanding ecological
processes. So one of the things that motivated us here was to
elaborate on, and develop, some ideas related to modeling ecological
processes (movement, space usage, landscape connectivity) in the
context of SCR models.  So, while we do have a lot of material on
density estimation -- this is problem \# 1 in applied ecology -- we
worked hard to cover a lot more of the spatial aspect of population
analysis as they relate to SCR. We think we have more in this book
than in any other book on spatial analysis of popualtions. There are a
lot of books out there that cover spatial analysis of popualtion
structure which are more theoretical or mathematical, and there are a
lot of books out there that cover sampling and estimation, but that
are {\it not} spatial. Our book bridges these two huge ideas as much
as was possible roughly mid-2012.  The 2nd thing that reallly
motivated this book was our interest in doing SCR, teching people to
do SCR, and therefore to provide a framework for {\it implementation}
using R/WinBUGS/JAGS and using both Bayesian and classical modes of
inference.  Why both?  (see below).

\section*{Who should read this book}

We expect that people have a basic understanding of statistical models
and classical inference (What is frequentist inference? what is a
likelihood? Generalized linear model? Generalized linear mixed
model?), Bayesian analysis (what is s a prior distribution and a
posterior distribution?), certainly have used the {\bf R} programming
environment, and maybe even a little bit of Bayesian computation (MCMC
and perhaps the BUGS language).  The ideal candidate for reading this
book has basic knowledge of these topics. However, we do provide
introductory chapters on the necessary components which we hope can
serve as a brief and cursory tutorial for those who might have only
limited technical knowledge, e.g., many biologists who implement field
sampling programs but do not have extensive experience analyzing data.


\subsection*{Why should you read this book?}

The future of studying animal populations is SCR. 
 Many questions in ecology and conservation are related to
how individuals distribute themselves in space, and SCR models deal
with incorporating aspects of spatial ecology into a capture-recapture
framework for estimating abundance, density and other demographic
parameters. As such, we believe that there is material of interest for
most wildlife ecologists in this book. While traditional CR models,
and especially those for open populations, have been developed for
decades to deal with aspects of populations, including spatial stuff
into models explicitly, we believe will almost always lead to a more
realistic representation of your study system.  So this book is not
only extremely interesting in ecological terms, but also at the
forefront of capture-recapture model development.


\section*{Statistical Modeling}

SCR models are a type of statistical model. Therefore, the book is
basically an applied statistical modeling book.  In essence, SCR are
simple hierarchical models.  Hierarchical models are models that
consist of a formal description of a state process -- a process that
characterizes what the true state of our study system looks like and
usually the process we are utimately interested in -- and a separate
observation process, which describes how our data were generated
conditional on the state process. This acknowledges that, usually, we
cannot directly observe the state process, but rather have a partially
observed or biased picture of the state we're interested in.  SCR
models condition on a latent variable ${\bf s}$ which we interpret as
an explicit biological process -- the outcome of animals distributing
themselves over a landscape.  Some conceptual and methodological
aspects of hierarchical modeling can be found in
\citet{royle_dorazio:2008}, we rehash some of those ideas as we need
to but we don't focus too much on the broader framework of
hierarchical modeling.  We do, however, provide some background
material on inference strategies and, especially, Bayesian analysis
using the {\bf BUGS} variants {\bf JAGS} and {\bf WinBUGS}.

We develop SCR models using a dual inference paradigm involving both
Bayesian and classical methods based on likelihood inference.
We are not strong advocates of either Bayesian or likelihood-based
inference but rather we think either works in most problems and one or
the other works betters in some cases. 
We show examples throughout the
book for which the specific problem solved using Bayesian methods
would be difficult using likelihood methods and vice versa.



\section*{Computing}

Our emphasis is on doing things in the {\bf R} programming language
which by now is something that very many ecologists not only knows
about, but actually uses. We adopt R because it is free; because it
has a large community that constantly develops code for new
applications; and because it gives us great flexibility.  There are
some great books out there including Bolker (XXXX) and XXXXX. We use a
large number of R packages in our analyses, we address them in
Appendix 1, and moreover, we provide an R package with this book (see
below).


To fit models, we rely heavily on the various implementations of the
{\bf BUGS} language including {\bf WinBUGS} \citep{lunn_etal:2000},
{\bf JAGS} \citep{plummer:2003}. 
 Mostly we are transitioning to use of JAGS but we
still like WinBUGS a lot. Old habits die hard..... WinBUGS is not in
active development anymore, but JAGS is. We don't have much experience
using {\bf OpenBUGS}
 \citep{thomas_etal:2006}. We really like
the {\bf BUGS} language, not merely  as a computational device for
fitting models but because it emphasizes
understanding of what the model is and fosters understanding how to
build models -- as  our good friend and colleague Marc K\'{e}ry says,
``BUGS frees the modeler in you.''  (direct
citation for this would be nice).  However, in addition to using the
{\bf BUGS} language and its various implementations, we also develop our own
{\bf R} code both for doing MCMC
and maximum likelihood, for which we also use the R
package \mbox{\tt secr} \citep{efford:2011}. In addition, we have
created an {\bf R} package to go with this book, \mbox{\tt scrbook},
which contains the data sets, {\bf R} and {\bf BUGS} scripts, and {\bf
  R} code for doing summary analyses, and some likelihood and MCMC
functions written solely in {\bf R}.

While we rely heavily on the {\bf BUGS} implemenations, we do a limited amount of developing our own custom MCMC algorithms
(see Chapt. \ref{chapt.mcmc}) which we think is really handy for certain
problems. In fact, there are problems that WinBUGS or JAGS can't do,
and so we have had to develop our own custom algorithms (e.g.,
Sollmann et al. 2012; Chandler and Royle 2013). 
%%% XXXX We can do that with BUGS also, to some extent, so maybe just
%%% stick to usefulness in situations where JAGS fails?XXXXXX
This is really handy because you can then exploit large linux or
windows clusters to distribute your computing efficienctly. There are
{\bf R} packages for that (snowfall XXXX and others).

We don't just do Bayesian analysis in this book! Here and there you'll
find a fair amount of likelihood analysis, and we have a chapter that
provides the conceptual and technical background for how to do this,
and several chapters use likelihood methods exclusively. We use the R
package \mbox{\tt secr} \citep{efford_etal:2009euring} for many
analyses and we think people should use this because it is polished,
easy to use, fairly general and has the usual {\bf R} summary methods,
and considerable capability for doing analysis from start to
finish. In some chapters we discuss models that we have to use
likelihood methods for, but which are not implemented in \mbox{\tt
  secr} (e.g., Chapts. \ref{chapt.rsf} \ref{chapt.ecoldist}). This is
a good example of why it is useful to understand the principles and to
be able to implement these methods yourself.

\section*{The R package scrbook}

As we were developing content for the book it was obvious that it
would be useful if the R/BUGS scripts and data were availble for
readers to reprdocue the analyses and also to modify so that they can
do their own analysis.  Almost every analysis we did is included as an
R script in the \mbox{\tt scrbook} package.
The R package should be a very dynamic thing, as we plan to
continue to update and expand it.

The purpose of the package is not meant to be general-purpose and
flexible software for doing SCR models but, rather, a set of examples
and templates to see how specific things are done. Code can be used
by the reader to develop methods tailored to his/her situation, or
possibly even more general methods.  Because we use so many different
software packages and computing platforms, we think its impossible to
put all of what is convered in this book into a single integrated
package.  The \mbox{\tt scrbook} package is for educational purposes
and not for high-powered general use.


\section*{Organization of This Book}

We introduce Bayesian inference in some
detail because people are less likely to have had a class in that and
we also wanted to produce a stand-alone product.   We also do
likelihood analysis of many models and we provide an introduction to
the relevant elements of likelihood analysis in
Chapt. \ref{chapt.mle}, and the 
implementation of SCR models in the package \mbox{\tt secr} \citep{efford_etal:2009euring}.

We didn't think to write a 550 page book on SCR models because there
wasn't even that much material to work when when the project was
started back in the early part of 2009. At that time, we envisioned
maybe 250 pages or so. But during the project great and new things
were produced, and we developed new models and concepts taht led to
new material for the book, including models of resource selection,
landscape connectivity, and methods for dealing with unmarked
individuals. There are at least 10 chapters in the book that we
couldn't have thought about 4 years ago. Actually, more ideas kept
coming up and we ended up not even being able to cover all of them
extensivvely in this book; so we also, in places, provide ideas of how
SCR models could be developed further.

In the following chapters we develop a comprehensive synthesis and
extension of spatial capture-recapture models.  Roughly the first
third of the book is introductory material. In
Chapt. \ref{chapt.glms} we provide the basic analysis tools to
understand and analyze SCR models, namely generalized linear models
(GLMs) with random effects, and their analysis in {\bf R} and {\bf
  WinBUGS}.  Because SCR models represent extensions of basic closed
population models, we cover ordinary closed population models in
Chapt. \ref{chapt.closed} wherein, along with Chapts. \ref{chapt.scr0}
and \ref{chapt.poisson-mn} \footnote{might ought to put Modeling
  Encounter Probability as chapter 5 instead}, provides the basic
introduction to capture-recapture models and their spatial
extension.... this covers XXXXX.  observation models related to the
type of encounter device (Chapt. \ref{chapt.poisson-mn}), models for
encounter probability (Chapt. \ref{chapt.covariates}). In the middle
part of the book we extend capture-recapture to SCR models and discuss
a number of different conceptual and technical topis including tools
for likelihood inference (Chapt. \ref{chapt.mle}), sampling design
(Chapt. XXXXX) and analysis of model fit and model selection
(Chapt. \ref{chapt.gof}).

The last part of the book, which is really about 40\% or more by page
count, is ``advanced'' stuff. This covers a chapter on developing your
own MCMC algorithsm for SCR models. We do this because many advanced
models require you to do this and we think much of the future of SCR
will require MCMC methods. 
We also have a number of chapters on spatial modeling aspects related
to SCR including modeling 
space usage or resource selection (Chapt \ref{chapt.rsf}), modeling
landscape connectivity (Chapt. \ref{chapt.ecoldist}), and modeling
spatial variation in density. 
We cover open population models (Chapt. \ref{chapt.open}),
a bunch of stuff on unmarked individuals either entirely (Chapt. \ref{chapt.scr-unmarked})
or partially marked samples (Chapt. \ref{chapt.partialID}), 
a chapter on search-encounter methods XXXX, a chapter on multi-session
models XXXXXX (probably move this to chapter 10?)


\section*{Our Point of View}

What is the approach or philosophy -- the overriding set of ideas that
motivates how we developed and organized conent?

[I stole this from chapter 2]:
In our experience, students in ecology and even many established
scientists sometimes have a difficult time distinguishing
betwee what they need to do  from how to do
it.  They cannot distinguish clearly (either conceptually or actually)
the difference between the model for their data, and the actual
procedure of how to estimate parameters of that model, or make
predictions - ie., how to do the calculations. Sometimes this issue
raises itself in an email from some hapless grad student wondering
``what is the right statistical test for this type of data?''  In a
sense it is this view that drives our approach to developing elements
of this book.

In contemporary statistical ecology, models and methods are sometimes
obscured by named procedures often that are completely uninformative,
the technical details of which hide in obscurity in some black boxes
such as MARK, PRESENCE, DISTANCE, etc., known only by the few
specialist experts in the field.  {\bf XXXX I think we should say
  something to the extent that these black boxes are very useful but
  their user-friendlyness comes with the risk of abuse - the risk that
  you can run an analysis and get a result without really knowing what
  you're doing XXXXXX}  While it is sometimes convenient to refer to a
type or class of models by a name (logistic regression or even ``model
Mh'') in order to emphasize a broad concept or methodological area,
this is only useful if the fundamental statistical and mathematical
structure underlying that name is clear. As such, we try to focus on
model development and keep the model development distinct from how to
combine our data with the model to produce estimates and so forth. We
talk a lot about hypothetical data we wish we could observe - complete
data sets - data sets as if $N$ were known, etc.. We talk about the
model in precise terms and then break down various ways for analyzing
the model either using likelihood methods or Bayesian methods or some
black-box that does one or the other.



\section{Scope of this Book  
-- This is kind of ``Point of view''}

In this book, we try to achieve a broad methodological scope from
basic closed population models %using a number of distinct observation
%models
for inference about population density, movement, space usage and resource
selection, on up to open population models for inference about vital
rates such as survival and recruitment. %---spatial versions of
%conventional Jolly-Seber models. %A number of conceptual and
%methodological themes unify the main topical coverage of this book, and
%those are:
Much of the material is a synthesis of recent research but we also
expand SCR models in a number of useful directions, including to
accommodate unmarked individuals (Chapt. \ref{chapt.scr-unmarked}),
use of telemetry information (Chapt. \ref{chapt.rsf}), and developing
explicit models of landscape connectivity based on ecological or
least-cost distance (Chapt. \ref{chapt.ecoldist}), and many other new
topics that have only recently appeared in the literature, or not at all.  Our intent
is to provide a comprehensive resource for ecologists interested in
understanding and applying SCR models to solve common problems faced
in the study of populations.  To do so, we make use of hierarchical
models \citep{royle_dorazio:2008}, which allow extraordinary
flexibility in accommodating many types of capture-recapture data. We
present many example analyses, of real and simulated data using
likelihood-based and Bayesian methods---examples that readers can
replicate using the code presented in the text and the resources made
available on-line and in our accompanying {\bf R} package {\tt
  scrbook}.

Although we aim to reach a broad audience, at times we go into details
that may only be of interest to advanced practitioners who need to
extend capture-recapture models to unique situations.  We hope that
these advanced topics will not discourage those new to these methods,
but instead out intent is to allow readers to advance their own
understanding and become less reliant on restrictive tools and
software.
A number of conceptual and methodological
themes unify the main topical coverage of this book, and those are:

\begin{itemize}
\item[(1)] Hierarchical modeling. We develop hierarchical models
  consisting of explicit models for both the observation process and
  the underlying ``ecological process'' which describes the
  organization of individuals in space.

\item[(2)] Spatial processes in capture-recapture. We emphasize the
  linkage of capture-recapture data to underlying ecological processes
  including density or distribution of individuals, 
space usage, resource selection and movement.

\item[(3)] Formal inference using both classical (frequentist,
  likelihood-based) and Bayesian methods. We often emphasize
  Bayesian analysis because this allows us to focus the technical
  formulation of models, and spatial capture-recapture is mainly
  concerned with modeling random effects and estimating functions of
  random effects. However, we also explore likelihood methods using existing
  software such as the {\bf R} package \mbox{\tt secr} \citep{efford:2011}, as well as
  development of custom solutions along the way.

\item[(4)] In developing Bayesian analyses of SCR models, we emphasize
  the use of the {\bf BUGS} language for describing models. The {\bf BUGS}
langage emphasizes the syntactic description of the essential
  assumptions of models in a special kind of pseudo-code language,
  which is used in software ({\bf WinBUGS}, {\bf JAGS}, {\bf OpenBUGS}) to devise Markov
  chain Monte Carlo (MCMC) algorithms for Bayesian analysis of
  models. The {\bf BUGS} language focuses your thinking on model development
  and lets you develop an understanding of models at the level of
  their basic assumptions and structure.  Despite our focus on
  describing models in {\bf BUGS}, we also show readers how
  to devise their own MCMC algorithms for Bayesian analysis of SCR
  models, which can be convenient (even necessary) in some practical
  situations.

%\item[(4)] Data augmentation -- dealing with the fact that population
%  size, $N$, is unknown is a challenging technical problem in
%  capture-recapture models. We confront this problem in almost every
%  chapter of this book. To deal with it we use a technical device
%  called {\it data augmentation} which is extremely useful for
%  analysis of capture-recapture models that are specified
%  ``conditional on $N$'' \citep{royle_etal:2007}.
\end{itemize}



Altogether, these different conceptual and methodological elements
provide for a formulation of SCR models that essentially renders them
as variations of generalized linear mixed models (GLMMs). This in a
sense makes them consistent with many important methodologies used in
ecology (e.g., see \citet{zuur_etal:2009, kery_etal:2010}), and
because of the connection with standard modeling concepts, we believe
that the material presented in this book can be understood and used by
most ecologists with some modeling experience.








\section*{Where did we go wrong?}

The latex ~ is about useless as tits on a boar.

Ok, there will be some obvious, even embarrasing, problems that arise
once the book hits the street. Those are unintnentional. Besides
those, there are some deficiencies with the book that we can identify
{\it before} the book hits the street. For one thing, it's a little
bit long-winded. We added some introductory/background material that
covers more than 100 pages. We don't really get to SCR models until
around page 130.  So you have some reading to do, or else skip over
it, or whatever. Our intent was to provide all of the material you
need in one place. When you start outlinging or enumerating the
``requirements'' and you flesh each of those out a little bit, then
you have basically a short chapter on what you need to know in order
to get through SCR models. But then that short chapter is just
referencing a bunch of other material and so you start fleshing it out
a little bit more, and the next thing you know you have 3 chapters of
background content that amounts to 100 or more pages.  So, there you
have it.  

As a second thing, we're tying together data analysis, R scripts, and
BUGS code from 4 different developers and we find, every day, certain
inconsistencies with notation and so on. We hope to have that all
nailed down in the final, edited, version of the book. But some of the
R package material will appear inconsistent with the book because the
package is dynamic, but the book is static. Or, in some cases, the
package development is lagging the printed book page. (this should
soon be fixed!). 






